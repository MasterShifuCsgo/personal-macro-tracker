# ADR 0001: Use Joi for Runtime Type Checking

**Status:** Accepted  
**Date:** 2025-09-11

## Context
Manual `if`-based type checks clutter endpoints and make code hard to read and maintain, especially with nested objects and arrays.

```js
if (!req.body.name || typeof req.body.name !== 'string') {
  return res.status(400).send({ error: 'Invalid name' });
}
```

Decision:
Use Joi to centralize and automate type checking, keeping endpoint functions clean and focused.

```js
const { error } = FoodsTypeCheck.validate(newFood);
if (error) return res.status(400).send({ error: error.details[0].message });
```
Consequences
Positive: Cleaner controllers, reusable schemas, consistent validation across endpoints.

Negative: Default error messages are generic unless customized, adds a dependency.